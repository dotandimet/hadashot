<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"
  xmlns:thr="http://purl.org/syndication/thread/1.0">
  <link rel="self" href="http://intertwingly.net/blog/index.atom"/>
  <link rel="hub" href="http://pubsubhubbub.appspot.com/"/>
  <id>http://intertwingly.net/blog/index.atom</id>
  <icon>../favicon.ico</icon>

  <title>Sam Ruby</title>
  <subtitle>It’s just data</subtitle>
  <author>
    <name>Sam Ruby</name>
    <email>rubys@intertwingly.net</email>
    <uri>/blog/</uri>
  </author>
  <updated>2013-10-14T03:00:41-07:00</updated>
  <link href="/blog/"/>
  <link rel="license" href="http://creativecommons.org/licenses/BSD/"/>

  <entry>
    <id>tag:intertwingly.net,2004:3317</id>
    <link href="/blog/2013/10/04/Download-RESTful-Web-Services"/>
    <link rel="replies" href="3317.atom" thr:count="0"/>
    <title>Download RESTful Web Services</title>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100">
  <path d="M10,90.1v-2h80V90.1zM10,70.1v-2h80V70.1zM10,50.1v-2h80V50.1zM10,30.1v-2h80V30.1zM10,10.1v-2h80V10.1z"></path>
  <path d="M44.4,20.8c1.5,1.6,13,15.7,13,15.7s-6.4,6.1-6.4,12.5c0,7.5,8.6,14.3,8.6,14.3l-0.9,1.1c-3.3-1.9-8.9-2.1-11.4,0.8c-3.1,3.6,3.9,9.1,3.9,9.1l-0.8,1.1c-2.4-1.8-12.6-11.4-8.3-16.1c2.6-2.9,5.8-3.8,10.3-1.4l-12.1-12.5c7-8.6,8.2-11.1,8.2-13.4c0-4.8-3.4-8.2-5.1-10.4c-0.6-0.9-1.7-1.6-1-2.2C43.1,18.9,43.5,19.7,44.4,20.8z" fill="#F33"></path>
</svg>
<a href="http://www.crummy.com/2013/10/03/0"><cite>Leonard Richardson</cite></a>: <em>Hey, folks, I got some pretty exciting news. Now that RESTful Web APIs has come out, there’s really no reason to buy 2007’s <i>RESTful Web Services</i>. So Sam Ruby and I and O’Reilly have gotten together and started giving the old book away. You can get a PDF from <a href="http://restfulwebapis.org/rws.html">the RESTful Web APIs website</a> or from my now-ancient <a href="http://www.crummy.com/writing/RESTful-Web-Services/">RESTful Web Services</a> site. The license is <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/">BY-NC-ND</a>.</em></div></content>
    <updated>2013-10-04T05:20:41-07:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3316</id>
    <link href="/blog/2013/09/22/Opal-looks-very-promising"/>
    <link rel="replies" href="3316.atom" thr:count="1" thr:updated="2013-09-25T17:16:50-07:00"/>
    <title>Opal looks very promising</title>
    <summary type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><a href="http://opalrb.org/">Opal</a> is a Ruby to JavaScript compiler.  The team working on it are not only working to bring access to JavaScript libraries (like jquery) but also to replicate Ruby library interfaces.  Walking through a <a href="https://gist.github.com/rubys/6660094">simple example</a>...</div></summary>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100">
  <path d="M4,14h92" stroke="#4682b4" stroke-width="5"></path> 
  <text x="50" y="90" font-size="90" fill="#5f9ea0" font-family="serif" text-anchor="middle"><![CDATA[W]]></text>
</svg>
<p><a href="http://opalrb.org/">Opal</a> is a Ruby to JavaScript compiler.  The team working on it are not only working to bring access to JavaScript libraries (like jquery) but also to replicate Ruby library interfaces.  Walking through a <a href="https://gist.github.com/rubys/6660094">simple example</a>...</p>
<p>This script defines two types of responses, HTML and JSON.</p>
<p>The HTML response define a simple table and a script.  The script is defined in Ruby, but is converted to JavaScript before sending to the browser.  The script itself issues three HTTP request and updates individual cells in the table when it gets responses.</p>
<p>Those requests produce JSON replies, depending on the individual field requested.  Both the client and server scripts in this example involve DOM traversal.  One uses JQuery style methods (<code>find</code>).  The other nokogiri (<code>at</code> and <code>search</code>).</p>
<p>An alternative to <a href="https://github.com/opal/opal-jquery">opal-jquery</a> is <a href="https://github.com/opal/opal-browser">opal-browser</a>.  The latter provides a more Markaby/Nokogiri style interface to the DOM.</p>
<p>To run: </p>
<pre class="code">gem install wunderbar nokogumbo opal opal-jquery sourcify
ruby watch.rb --port=3030</pre>
<p>If your web server is set up to handle CGI, you can drop this script directly into your document directory and run it.  If you do so, the requests will all be handled in parallel.</p></div></content>
    <updated>2013-09-22T07:02:01-07:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3315</id>
    <link href="/blog/2013/09/05/Time-Warner-Cable-Update"/>
    <link rel="replies" href="3315.atom" thr:count="1" thr:updated="2013-09-09T11:37:59-07:00"/>
    <title>Time Warner Cable Update</title>
    <summary type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><p>I finally debugged why my <a href="http://intertwingly.net/blog/2012/12/05/Time-Warner-Cables-idea-of-service">cable service was so poor</a>.  Long story short, an inexplicable 7dB drop in the incoming line, a bad arrangement of splitters, and another unexplained 7dB drop someplace in the house; , which leads to the following question:</p>
<p>If Time Warner Cable is moving towards digital only service, shouldn’t they be providing enough signal strength to drive all of the devices in the house?</p></div></summary>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns='http://www.w3.org/2000/svg' width="108" height="93" viewBox="0 0 108 93">
  <path d='M17,27c-3,3-5,6-10,11c-2,1-3,1-5,0c-4-4-2-7,8-17c11-11,24-19,36-20c13-2,30,1,43,11c7,6,15,14,19,21c-4,7-9,13-14,17c-5,5-11,8-16,10c-13,4-28,3-36-10c-2-4-2-8,0-12c2-5,8-9,13-9c4,0,9,2,11,7c1,2,1,6-1,8c-1,1-6,2-7-2c0-2-0-4-2-4c-4,0-7,3-6,8c1,3,4,6,11,7c3,0,7-1,11-6c3-4,3-11,0-15c-4-7-10-10-18-10c-9,0-17,5-21,14c-3,7-5,17,0,28c4,8,11,13,17,16c5,3,16,4,17,8c0,3-2,5-4,5c-17-3-31-11-37-25c-7-13-6-30,2-41c5-7,13-12,20-13c19-5,38,9,35,28c-1,3-2,6-4,8c0,1,0,1-1,1l2-1c7-4,13-10,17-17c-10-18-32-27-49-24c-14,2-23,10-31,18' fill='#0056a2'></path>
</svg>
<p>I finally debugged why my  cable service was so poor.  Long story short, an inexplicable 7dB drop in the incoming line, a bad arrangement of splitters, and another unexplained 7dB drop someplace in the house.</p>
<p>Now for the long story:</p>
<p>My troubles started when <a href="http://intertwingly.net/blog/2012/12/05/Time-Warner-Cables-idea-of-service">Time Warner Cable required me to install mini cable boxes to see the full set of channels that I had purchased</a>.  I went from a slightly grainy picture to a clear picture on some channels and intermittent digital encoding artifacts on others.  In most cases, slightly grainy was a marked improvement over digital encoding artifacts.  In fact, for some channels the result was essentially unwatchable - particularly channel 3 (CBS) and channel 4 (PBS).</p>
<p>Two days ago, one television refused to show anything (what was shown was “Searching for Channels").  I started debugging by bypassing the box, and that worked, indicating that the cable wasn’t broken.  I then swapped equipment with another room, and the problem stayed with the television and not the box.</p>
<p>Remembering that pressing "info” on the remote control would put the box in a debug mode, I found that the working televion showed -19.44 dB, and the failing television showed -20 dB.</p>
<p>Putting a signal booster on the working televison addressed the digital artifact problem.  Putting the same signal booster on the failing television didn’t help.</p>
<p>Working assumptions at this point: with non-digital signals, picture quality degrades linearly with signal strength.  With digital signals, viewability is more of a binary quality, and at -20dB the box simply refuses to show anything.</p>
<p>And there is a point after which there isn’t enough signal to be boosted.</p>
<p>Tracing back the line, it comes in from the street to a box, in that box there is both a 2 way splitter and a 4 way splitter, then it goes under the house and is split one final time before going to the two televisions in question.  I suspect that the final splitter was added by the builder and not by the cable company.  Similarly, I suspect that the additional 2 way splitter was added when we added a detached garage with a room on the second floor.</p>
<p>I then tested the signal strength at the box (before any splitters), and I found +5.6dB.</p>
<p>Based on <a href="https://www.youtube.com/watch?v=3wvAzjKxE_E">this video</a>, Time Warner should be providing me 10 to 15 dB.  So the signal strength is about a quarter of what I should be getting.  And I should be striving to get between 0 and 5 dB to each television.</p>
<p>The first splitter cut that in half, and the second splitter cut that by a factor of 4.  The third splitter cut that by a factor of 2.  And signal loss along the line should be on the order of another factor of 2.</p>
<p>That sounds like a lot, but in dB terms that’s about 18 dB of loss.  Starting with 5.6 and subtracting 18 leaves -12.4.  I am getting 7 less than that.</p>
<p>Looking back at my splitters, the first splitter fed half of the stength to one line.  Tracing down that line, and that was to my cable modem.  While that’s clearly dear to me, I suspect that this ordering was done when I had problem with my cable modem dropping signal.  I since have replace the modem.</p>
<p>Reordering the splitters so that 3 lines only go through the four way splitter and two (analog only) signals go through both means that 3 televisions get twice the signal they were before, and the cable modem gets half.</p>
<p>Furthermore, replacing the final splitter with a signal booster means that the two televisions that were having problems now have positive signal strength.</p>
<p>So far, no problem with Internet, and the immediate problem with my TV service has been addressed.</p>
<p>Then again, I just got a notice today that four more channels will require a cable box, which leads to the following question:</p>
<p>If Time Warner Cable is moving towards Digital Only service, shouldn’t they be providing enough signal strength to drive all of the devices in the house?</p></div></content>
    <updated>2013-09-05T17:45:50-07:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3314</id>
    <link href="/blog/2013/08/15/Ruby-bindings-for-Gumbo-HTML5-parser"/>
    <link rel="replies" href="3314.atom" thr:count="2" thr:updated="2013-08-20T13:43:23-07:00"/>
    <title>Ruby bindings for Gumbo HTML5 parser</title>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns='http://www.w3.org/2000/svg' width="94" height="106" viewBox="0 0 94 106">
  <path d='M11,94l-9-91h90l-8,91l-37,10' fill='#E44D26'></path>
  <path d='M47,97l30-9l7-78h-37' fill='#F16529'></path>
  <path d='M47,44h-15l-1-11h16v-12h-28l3,34h25M47,73l-12.5-3l-1-9h-11l1.5,18l23,6' fill='#EBEBEB'></path>
  <path d='M47,44v11h14l-1,15l-13,3v12l23-6l3-35M47,21v12h27l1-12' fill='#FFF'></path>
</svg>
<p><a href="http://google-opensource.blogspot.com/2013/08/gumbo-c-library-for-parsing-html.html"><cite>Jonathan Tang</cite></a>: <em>We’re pleased to announce the open source release of the <a href="https://github.com/google/gumbo-parser">Gumbo HTML parser</a>, a C implementation of the <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#parsing">HTML5 parsing algorithm</a>.</em></p>
<p>I’ve <a href="https://github.com/rubys/gumbo-parser/tree/master/ruby#readme">posted</a> a proof of concept Ruby binding to github.</p></div></content>
    <updated>2013-08-15T11:06:47-07:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3313</id>
    <link href="/blog/2013/05/20/Prosody-as-a-personal-xmpp-server"/>
    <link rel="replies" href="3313.atom" thr:count="6" thr:updated="2013-07-18T21:07:45-07:00"/>
    <title>Prosody as a personal xmpp server</title>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100">
  <rect height='49' width='49' x='0' y='0' rx="13" fill='#6197df'></rect>
  <rect height='49' width='49' x='0' y='51' rx="13" fill='#f29b00'></rect>
  <rect height='49' width='49' x='51' y='0' rx="13" fill='#f29b00'></rect>
  <rect height='49' width='49' x='51' y='51' rx="13" fill='#6197df'></rect>
</svg>
<p>Nearly six years ago, I set up a <a href="http://intertwingly.net/blog/2007/08/07/Personal-Jabber-Server">personal Jabber server</a> using ejabberd.  This setup survived the server migration to Ubuntu 8.04 and 10.04.  This past weekend, I attempted to migrate that to a server running 12.04 and all I could get out of it was an erlang crash dump.</p>
<p>A quick scan for successors turned up <a href="http://prosody.im/">prosody</a>. Configuration was as simple as adding a <code>VirtualHost</code> and setting <code>allow_registration</code> to <code>true</code>.</p></div></content>
    <updated>2013-05-20T10:29:35-07:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3312</id>
    <link href="/blog/2013/03/29/Cooking-with-Chef"/>
    <link rel="replies" href="3312.atom" thr:count="0"/>
    <title>Cooking with Chef</title>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns="http://www.w3.org/2000/svg"
xmlns:xlink="http://www.w3.org/1999/xlink" width="105" height="95" viewBox="0 0 105 95">
  <path d="M29,34s6-2,6,5l8-12s-7,1,-6-5" fill="#f7681a"></path>
  <rect x="35" y="27" width="68" height="67" fill="#f7681a" rx="8"></rect>
  <circle cx="20" cy="19" r="12" stroke="#f7681a" fill="none" stroke-width="11"></circle>
  <ellipse cx="70" cy="61" rx="20" ry="21" stroke="#FFF" fill="none" stroke-width="12"></ellipse>
  <path d="M97,37l-23,23l23,24z" fill="#f7681a"></path>
</svg>
<p>It didn’t take long for me to outgrow using <a href="https://github.com/rubys/awdwr/blob/072a9888a80979dc4793bfd058544e72c55ebdbd/vagrant/bootstrap.sh">a shell script</a> for deployment.  The new chef solo <a href="https://github.com/rubys/awdwr/tree/master/vagrant/cookbooks/awdwr/recipes">recipes</a> are considerably more verbose, but can be updated and rerun many times.</p>
<p>My usage is undoubtedly more idiomatic Ruby than idiomatic Chef, and I’m not tapping into the vast <a href="http://docs.opscode.com/essentials_cookbooks.html">Chef ecosystem</a>, but I can now provision a new virtual machine for running tests in under 3 minutes.</p></div></content>
    <updated>2013-03-29T12:03:52-07:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3311</id>
    <link href="/blog/2013/03/27/Vagrant-Rocks"/>
    <link rel="replies" href="3311.atom" thr:count="1" thr:updated="2013-10-10T01:31:50-07:00"/>
    <title>Vagrant Rocks</title>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns='http://www.w3.org/2000/svg' width="99" height="101" viewBox="0 0 99 101">
  <path d='M0,7l7,4l-1,7l7,4l-1-8l13,7v8l18,46l13,8v14l-6-4v-7l-7,4l7,3v7l-18-10zM50,72v-18l2-5l4-2v-10l6-15v-8l7,4v8l5-4l1-7l6,3v14l-6-4l-7,4l6,4l1,8l-5-4l-2,5v16l-5-3l-7,17zM87,0v7l6-3z' fill='#2891cc' stroke='none'></path>
  <path d='M7,11l-1,7l6-4zM19,54l6-4l-6-3zM31,75v8l6-4zM50,100l6-3l-6-4zM25,21l12-6v7l13,32v18l-7,3l-18-46zM69,18l6-3l-1,7l-5,4zM81,18l18-11v7l-31,76l-12,7v-14l-7-4l7-4l4-10l8-4v-16l2-5l4,3v-7l7-4z' fill='#62b0e2' stroke='none'></path>
  <path d='M19,54l6,3l6-4l-6-3zM31,26v6l-6-3l6-4zM62,78v8l7-4z' fill='#FFFFFF' stroke='none'></path>
  <path d='M88,14l5,4v-7zM74,50l7-3v7zM62,78l7-3v7zM31,32l6,4v-7l-6-4z' fill='#2891cc' stroke='none'></path>
</svg>
Yesterday, I used <a href="http://www.vagrantup.com/">vagrant</a> for the first time.  Within a few hours, I had a <a href="https://github.com/rubys/awdwr/tree/master/vagrant">reproducible bootstrap</a> that can run my <a href="http://intertwingly.net/projects/dashboard.html">Agile Web Development with Rails tests</a>.  For the short term, this is useful for regression testing the Installation chapter.  Longer term, hopefully it will make it easier for the rails-core team to <a href="https://github.com/rails/rails/blob/master/RELEASING_RAILS.rdoc#is-sam-ruby-happy--if-not-make-him-happy">reproduce problems</a>.</div></content>
    <updated>2013-03-27T08:07:21-07:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3310</id>
    <link href="/blog/2013/03/21/rbenv-first-impressions"/>
    <link rel="replies" href="3310.atom" thr:count="4" thr:updated="2013-03-22T06:16:52-07:00"/>
    <title>rbenv first impressions</title>
    <summary type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Armed with my new Mac Mini, I set off to to repeat my <a href="http://intertwingly.net/projects/dashboard.html">testing of various versions of Rails and Ruby</a>.  Whereas I have been using, and happy with, RVM on Ubuntu for dealing with Ruby versions; I decided to try <a href="https://github.com/sstephenson/rbenv/#readme">rbenv</a>/ruby-build.  What I started with was a new machine, a full installation of XCode, the Command Line utilities, and <a href="http://mxcl.github.com/homebrew/">Homebrew</a>.</div></summary>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns='http://www.w3.org/2000/svg' width="100" height="100" viewBox="0 0 100 100">
<path d='M20,100l74-5l6-75zM61,35l37-2l-29-24z' fill='#b11'></path>
<path d='M21,100l74-5l-47-4zM98,33c4-12,5-29-14-33l-15,9l29,24z' fill='#811'></path>
<path d='M7,67l14,33l11-38z' fill='#d44'></path>
<path d='M29,61l42,13l-10-42zM56,0h28l-16,10zM1,51l-1,29l7-13z' fill='#c22'></path>
<path d='M32,61l39,13c-14,13-30,24-50,26z' fill='#a00'></path>
<path d='M61,35l10,39l17-23zM32,61l16,30c9-5,16-11,23-17l-39-13z' fill='#900'></path>
<path d='M61,35l27,17l10-20l-37,3z' fill='#800'></path>
<path d='M71,74l23,21l-6-44zM0,80c1,19,15,20,21,20l-14-33l-7,13zM7,67l-2,26c4,6,9,7,15,6c-4-11-13-32-13-32zM69,9l30,4c-1-7-6-11-15-13l-15,9z' fill='#911'></path>
<path d='M1,51l6,16l25-5l29-27l8-26l-13-9l-22,8c-6,7-20,19-20,19c-1,1-9,16-13,24z' fill='#ebb'></path>
<path d='M21,21c15-14,34-23,42-16c7,8-1,26-16,40c-14,15-33,24-41,17c-7-7,1-26,15-41z' fill='#b11'></path>
</svg>
<p>Background: I maintain a <a href="https://github.com/rubys/awdwr/blob/master/edition4/makedepot.rb">scenario</a> that I <a href="http://intertwingly.net/projects/dashboard.html">test</a> against multiple versions of Rails and multiple versions of Ruby.  I primarily develop on Ubuntu, but I bought a new Mac Mini because some of my readers were having installation problems on Snow Lion and my previous mac min <a href="http://lowendmac.com/mini/mac-mini-aug-2007.html">can’t install Snow Lion</a>.</p>
<p>Armed with my new Mac Mini, I set off to to repeat my testing of various versions of Rails and Ruby.  Whereas I have been using, and happy with, RVM on Ubuntu for dealing with Ruby versions; I decided to try <a href="https://github.com/sstephenson/rbenv/#readme">rbenv</a>/<a href="https://github.com/sstephenson/ruby-build#readme">ruby-build</a>.  What I started with was a new machine, a full installation of XCode, the Command Line utilities, and <a href="http://mxcl.github.com/homebrew/">Homebrew</a>.</p>
<p>Keeping my build recipies up to date involves <code>rvm get stable</code> for rvm, and <code>brew update</code> followed by <code>brew upgrade ruby-build' if `brew outdated`.include? 'ruby-build'</code> for rbenv.</p>
<p>Changing to the latest version of 1.9.3 using rvm is accomplished with <code>rvm use 1.9.3</code>.  If the latest version isn’t installed, this will fail, and <code>rvm install 1.9.3</code> will do the dirty deed.  For rbenv, one needs to first get a list of versions using <code>rbenv install --list</code>, select ones starting with 1.9.3, sort the list numerically by the last digits of the string, and select the largest result.</p>
<p>Building the latest 2.1.0 can be done with <code>rvm install ruby-trunk-nxxx</code> where the <code>-n</code> is optional but useful for tracking multiple “latest” versions.  I use the subversion revision number for xxx.</p>
<p>Building the latest 2.1.0 is where this all goes downhill with rbenv on Mac OS X 1.8.3.  There is a <a href="https://github.com/sstephenson/ruby-build/blob/master/share/ruby-build/2.1.0-dev">recipe for 2.1.0-dev</a>.  It automatically downloads and builds openssl to workaround a problem if it detects <code>has_broken_mac_openssl</code>.  I like that in a ruby build tool.</p>
<p>Unfortunately, building Ruby 2.1.0 doesn’t work with Apple’s provided version of autoconf, nor does ruby-build automatically know where homebrew puts its version of autoconf.  Adding <code>/usr/local/opt/autoconf/bin</code> explicitly to the PATH allows me to build exactly one version of 2.1.0-dev.  Fortunately, I can rename that directory to add a <code>-rxxx</code>.  Unfortunately, the shims have hardcoded paths in the shebang lines.  Fortunately, a symbolic link compensates for that.  This does mean that in the infrequent event that I want to go back to a prior build of 2.1.0 I need to remember to update the symbolic link too, but I can live with that.</p>
<p>Determining when the previously build “latest” 2.1.0 is no longer current is a matter of finding out where the git checkout of the ruby repository was done to.  For rvm, this is <code>$rvm_path/repos/ruby</code>.  For rbenv, the default is to throw this away, but this default can be overridden using the <code>--keep</code> option, in which case it is saved to <code>$RBENV_ROOT/sources/2.1.0-dev/ruby-2.1.0-dev</code>.  If a <code>git pull</code> in those directories comes up with <code>Already up-to-date.</code>, you are golden.  If not, time to rebuild.</p>
<p>Rebuilding with rvm will make use of what I already have.  Rebuilding with rbenv will fail unless I first erase the <code>$RBENV_ROOT/sources</code> directory, after which point it will do a full download of both openssl and a full (albeit shallow) git clone of ruby.</p>
<p>Just when I think I am done, I find out that what works using foreground login sessions via ssh doesn’t work via background sessions like cron or Apache CGI.  Symptoms are that ruby-build downloads and builds openssl, downloads and builds ruby, then complains with:
<code>The Ruby openssl extension was not compiled. Missing the OpenSSL lib?</code>.  This took a while to isolate building Ruby 2.1.0 takes a while even with modern hardware.  Ultimately, I determine that the build only succeeds if <code>/usr/sbin</code> is in my <code>PATH</code>.  This makes no sense at all to me, but it works.  Moving on...</p>
<p>At this point, I have everything working, but it certainly isn’t pretty.  Time to refactor.</p>
<p>One way to approach this is to move all of this logic to a rbenv plugin.  <a href="https://github.com/rkh/rbenv-whatis">rbenv whatis</a> is a step in this direction.</p>
<p>A better approach would be to first see which parts of this I could either motivate to get fixed in rbenv itself, perhaps even contributing code myself.  The first step is to start a dialog with the developers, but alas I can find no IRC channel or mailing list.  I see that others have resorted to using the <a href="https://github.com/sstephenson/rbenv/issues/269">issue tracker</a> for this, but that doesn’t seem quite appropriate for this grab bag of small issues and WIBNIs I have at this point.</p>
<p>A prioritized wish list to start with:</p>
<ul>
<li>If a source is already downloaded or cloned, use it.</li>
<li>Allow me to provide an additional revision number when building 2.1.0-dev.  Either that or automatically do this for me.</li>
<li>If homebrew has installed a later version of autoconf, use it in preference to the Apple provided version.</li>
<li>Figure out what is needed in <code>/usr/sbin</code> and either avoid it or make sure that it is found.</li>
</ul>

<p>It is indeed possible that I overlooked something and/or one or more of these are user errors on my part.  If so, pointers would be welcome.</p>
<p>Whatever is not done, I can put into a <code>rbenv get</code> or equivalent command which does whatever is necessary under the covers to switch to the specified version, including build it if necessary.</p></div></content>
    <updated>2013-03-21T06:10:28-07:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3309</id>
    <link href="/blog/2013/03/08/Mac-Mini-Upgrade"/>
    <link rel="replies" href="3309.atom" thr:count="5" thr:updated="2013-03-10T16:02:43-07:00"/>
    <title>Mac Mini Upgrade</title>
    <summary type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><p>Five years ago today, I <a href="http://intertwingly.net/blog/2008/03/08/Switched">bought a mac mini</a> to do <a href="http://pragprog.com/book/rails4/agile-web-development-with-rails">book</a> development.  On Wednesday, I bought a new mac mini simply because I’m told that Mountain Lion won’t install on a vintage 2008 mac mini, and because my readers have <a href="http://forums.pragprog.com/forums/148/topics/11484#32128">had</a> <a href="http://forums.pragprog.com/forums/148/topics/11499">problems</a> on Mac OS X 10.8.</p>
<p>Overall, I have continued to be unimpressed, and can’t help but wonder why my open source friends seem attracted to this system.</p></div></summary>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns='http://www.w3.org/2000/svg' width="90" height="100" viewBox="0 0 90 100">
  <path d='M62,0c2,10-9,24-20,24c-3-14,9-22,20-24M5,36c5-8,13-12,21-12c7,0,12,4,19,4c6,0,10-4,19-4c6,0,14,3,19,10c-16,4-15,35,3,39c-7,17-18,27-24,27c-7,0-8-5-17-5c-9,0-11,5-17,5c-7-1-13-7-17-13c-9-10-15-40-6-51' fill='#AAA'></path>
</svg>
<p>Five years ago today, I <a href="http://intertwingly.net/blog/2008/03/08/Switched">bought a mac mini</a> to do <a href="http://pragprog.com/book/rails4/agile-web-development-with-rails">book</a> development.  On Wednesday, I bought a new mac mini simply because I’m told that Mountain Lion won’t install on a vintage 2008 mac mini, and because my readers have <a href="http://forums.pragprog.com/forums/148/topics/11484#32128">had</a> <a href="http://forums.pragprog.com/forums/148/topics/11499">problems</a> on Mac OS X 10.8.</p>
<p>Overall, I have continued to be unimpressed, and can’t help but wonder why my open source friends seem attracted to this system.  Even after downloading Xcode command line utilities, I kept encountering messages like “can’t find C compiler” and “C compiler cannot create executables”.  Configure is something I haven’t run (at least not directly) for years, and my primary operating system is Ubuntu.</p>
<p>Apache no longer is something you can launch from the settings.  System Ruby is still at 1.8.7.  You need to upgrade openssl simply to install Ruby 2.0.</p>
<p>That being said, I’m impressed by the folks behind <a href="https://rvm.io/">RVM</a> and <a href="http://railsinstaller.org/RailsInstaller">RailsInstaller</a> who are doing their darnest to make this something that people don’t need to concern themselves with.</p></div></content>
    <updated>2013-03-08T10:54:38-08:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3308</id>
    <link href="/blog/2013/01/30/Plex"/>
    <link rel="replies" href="3308.atom" thr:count="3" thr:updated="2013-08-09T08:13:59-07:00"/>
    <title>Plex</title>
    <summary type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><p><a href="http://www.hanselman.com/blog/PlexIsTheMediaCenterSoftwareEcosystemIveBeenWaitingFor.aspx">Scott Hanselman</a>: <em>Plex is the media center software ecosystem I’ve been waiting for</em></p>
<p>Unhappy with <a href="http://intertwingly.net/blog/2012/12/05/Time-Warner-Cables-idea-of-service">Time Warner Cable</a>, I’ve been exploring <a href="http://movies.netflix.com/WiHome">netflix</a>, <a href="http://www.dish.com/">dish</a>, <a href="http://www.slingbox.com/">sling</a>, <a href="http://www.roku.com/">roku</a>, <a href="http://www.samsung.com/smarttv">samsung</a>, <a href="http://fmpeg.org/">ffmpeg</a>, <a href="http://handbrake.fr/">handbrake</a>, and <a href="http://cclive.sourceforge.net/">cclive</a>.  Next up, some form of <a href="http://www.linuxtv.org/wiki/index.php/ATSC_USB_Devices">video capture device</a>... at the moment I’m leaning towards <a href="http://www.tigerdirect.com/applications/SearchTools/item-details.asp?EdpNo=4146195&amp;CatId=4546">Hauppauge</a>.</p>
<p>I’m not quite prepared to declare Plex as the centerpiece of my home media center, but it certainly has become a key component.</p></div></summary>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100">
  <defs>
    <radialGradient id="plex1" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
      <stop offset="0%" stop-color="#f8ce22" stop-opacity="0.9" ></stop>
      <stop offset="100%" stop-color="rgb(0,0,0)" stop-opacity="0" ></stop>
    </radialGradient>
  </defs>
  <rect width="100" height="100" rx="10"></rect>
  <ellipse cx="54" cy="50" rx="38" ry="60" fill="url(#plex1)" ></ellipse>
  <path d="M28,7h31l28,43l-28,43h-31l28-43Z" fill="#ff8e00" stroke="#f8ce22" stroke-width="2"></path>
</svg>
<p><a href="http://www.hanselman.com/blog/PlexIsTheMediaCenterSoftwareEcosystemIveBeenWaitingFor.aspx"><cite>Scott Hanselman</cite></a>: <em>Plex is the media center software ecosystem I’ve been waiting for</em></p>
<p>Unhappy with <a href="http://intertwingly.net/blog/2012/12/05/Time-Warner-Cables-idea-of-service">Time Warner Cable</a>, I’ve been exploring <a href="http://movies.netflix.com/WiHome">netflix</a>, <a href="http://www.dish.com/">dish</a>, <a href="http://www.slingbox.com/">sling</a>, <a href="http://www.roku.com/">roku</a>, <a href="http://www.samsung.com/smarttv">samsung</a>, <a href="http://fmpeg.org/">ffmpeg</a>, <a href="http://handbrake.fr/">handbrake</a>, and <a href="http://cclive.sourceforge.net/">cclive</a>.  Next up, some form of <a href="http://www.linuxtv.org/wiki/index.php/ATSC_USB_Devices">video capture device</a>... at the moment I’m leaning towards <a href="http://www.tigerdirect.com/applications/SearchTools/item-details.asp?EdpNo=4146195&amp;CatId=4546">Hauppauge</a>.</p>
<p>I’m not quite prepared to declare Plex as the centerpiece of my home media center, but it certainly has become a key component.</p>
<p>Unlike Scott, I didn’t go with a dedicated NAS box.  Installation of a <a href="https://apps.ubuntu.com/cat/applications/precise/plexmediaserver/">Plex Media Server</a> on Ubuntu is a snap (though a <a href="https://bugs.launchpad.net/ubuntu/+source/software-center/+bug/647212">workaround</a> is needed if you happen to make use of an <a href="http://linuxexpresso.wordpress.com/2011/02/13/howto-apt-cacher-ng-on-ubuntu/">apt cacher</a>).</p>
<p>Obligatory <a href="http://i.imgur.com/VCTCAS7.png">Cable Guy</a> reference.</p></div></content>
    <updated>2013-01-30T10:12:03-08:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3307</id>
    <link href="/blog/2012/12/22/RESTful-Web-APIs"/>
    <link rel="replies" href="3307.atom" thr:count="0"/>
    <title>RESTful Web APIs</title>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100">
  <path d="M10,90.1v-2h80V90.1zM10,70.1v-2h80V70.1zM10,50.1v-2h80V50.1zM10,30.1v-2h80V30.1zM10,10.1v-2h80V10.1z"></path>
  <path d="M44.4,20.8c1.5,1.6,13,15.7,13,15.7s-6.4,6.1-6.4,12.5c0,7.5,8.6,14.3,8.6,14.3l-0.9,1.1c-3.3-1.9-8.9-2.1-11.4,0.8c-3.1,3.6,3.9,9.1,3.9,9.1l-0.8,1.1c-2.4-1.8-12.6-11.4-8.3-16.1c2.6-2.9,5.8-3.8,10.3-1.4l-12.1-12.5c7-8.6,8.2-11.1,8.2-13.4c0-4.8-3.4-8.2-5.1-10.4c-0.6-0.9-1.7-1.6-1-2.2C43.1,18.9,43.5,19.7,44.4,20.8z" fill="#F33"></path>
</svg>
<p><a href="http://amundsen.com/blog/archives/1139"><cite>Mike Amundsen</cite></a>: <em>I have the even greater privilege of working with Leonard and Sam on a new book - “RESTful Web APIs”. It’s scheduled for completion by the end of Q1 2013 and should be available soon after.</em></p>
<p>While I’m formally on this project, I’m not planning on doing any writing beyond possibly an introduction.  As Mike put it, this book isn’t merely a 2nd edition, but rather <em>more of a “follow-up” seven years on.</em>  I’m very much looking forward to seeing where Mike can help Leonard take this work.</p></div></content>
    <updated>2012-12-22T05:47:48-08:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3306</id>
    <link href="/blog/2012/12/19/Feedvalidator-org-Hacked"/>
    <link rel="replies" href="3306.atom" thr:count="5" thr:updated="2013-01-07T12:31:41-08:00"/>
    <title>Feedvalidator.org Hacked?</title>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns="http://www.w3.org/2000/svg" stroke="#000" width="100" height="100" viewBox="0 0 100 100">
  <path d="M8,80s-5,8,5,9l78,0s9,0,5-9l-40-71s-4-6-8,0z" stroke-width="2" fill="#fff"></path>
  <path d="M52,10 L10,85 L93,85z" stroke-width="2" stroke-linejoin="round" fill="#fc0"></path>
  <path d="M52,32l0,26" stroke-width="9" stroke-linecap="round"></path>
  <circle r="6" cx="52" cy="73"></circle>
</svg>
<p>Google has reported <a href="http://feedvalidator.org/">feedvalidator.org</a> as being <a href="http://safebrowsing.clients.google.com/safebrowsing/diagnostic?client=Firefox&amp;hl=en-US&amp;site=http://feedvalidator.org/">hacked</a>, and people are tweeting and emailing me.</p>
<p>I’ve looked at the markup being returned and it looks clean to me.  The <a href="https://raw.github.com/rubys/feedvalidator/master/.htaccess">.htaccess</a> file looks fine.  A <code>git status</code> command shows that none of the files on the server have been modified.</p>
<p>Can somebody identify what is causing Google to be concerned?</p></div></content>
    <updated>2012-12-19T03:33:01-08:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3305</id>
    <link href="/blog/2012/12/13/Changing-the-TAG"/>
    <link rel="replies" href="3305.atom" thr:count="4" thr:updated="2012-12-14T09:16:37-08:00"/>
    <title>Changing the TAG</title>
    <summary type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><p><a href="https://blog.linss.com/2012/12/12/changing-the-tag-an-unexpected-opportunity/">Peter Linss</a>: <em>I really want to see the TAG be more involved with the rest of the working groups at the W3C</em></p>
<p>I’ll come out and say it.  I’m a skeptic.  I’ll note that the three out of the four of the “TAG reformists” statements do NOT list getting involved with the rest of the working groups at the W3C as a goal.  What am I missing?</p></div></summary>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns='http://www.w3.org/2000/svg' width="131" height="76" viewBox="0 0 131 76">
  <path d="M36,5l12,41l12-41h33v4l-13,21c30,10,2,69-21,28l7-2c15,27,33,-22,3,-19v-4l12-20h-15l-17,59h-1l-13-42l-12,42h-1l-20-67h9l12,41l8-28l-4-13h9" fill='#005A9C'></path>
  <path d="M94,53c15,32,30,14,35,7l-1-7c-16,26-32,3-34,0M122,16c-10-21-34,0-21,30c-5-30 16,-38 23,-21l5-10l-2-9"></path>
</svg>
<p><a href="https://blog.linss.com/2012/12/12/changing-the-tag-an-unexpected-opportunity/"><cite>Peter Linss</cite></a>: <em>I really want to see the TAG be more involved with the rest of the working groups at the W3C</em></p>
<p>I’ll come out and say it.  I’m a skeptic.  Each of the <a href="http://www.w3.org/2012/12/03-tag-nominations">nominees</a> are good people.</p>
<p>I’ll note that the three out of the four of the “TAG reformists” statements do NOT list getting involved with the rest of the working groups at the W3C as a goal: <a href="http://infrequently.org/2012/12/reforming-the-w3c-tag/">Alex Russell</a>, <a href="http://marcosc.com/2012/12/w3c-tag-elections/">Marcos Cáceres</a>, <a href="http://annevankesteren.nl/2012/12/w3c-tag">Anne van Kesteren</a>, and <a href="http://yehudakatz.com/2012/12/07/im-running-to-reform-the-w3cs-tag/">Yehuda Katz</a>.</p>
<p>And outside of Anne, none of them have significantly been involved in the <a href="http://www.w3.org/html/wg/">HTML WG</a>.  As to Anne, I don’t see being on the TAG as resolving his <a href="http://annevankesteren.nl/2012/11/copyright">concern</a>.</p>
<p>What am I missing?</p></div></content>
    <updated>2012-12-13T07:54:49-08:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3304</id>
    <link href="/blog/2012/12/05/Time-Warner-Cables-idea-of-service"/>
    <link rel="replies" href="3304.atom" thr:count="15" thr:updated="2012-12-20T14:47:52-08:00"/>
    <title>Time Warner Cable’s idea of “service”</title>
    <summary type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><p>It started with two notifications we received via postal mail.  First Time Warner was going to start charging us rent for an outdated cable modem.  Second they were going to drop a number of cable channels, but if I acted now, I could request a digital adapter which would allow me to watch these channels on exactly one TV.</p>
<p>This process has turned a fairly complacent Time Warner customer into one that is actively seeking alternatives.  In looking around, I see plenty of promo offers of more service than I have (basic cable and basic internet) for considerably less than I am currently paying.  I am OK with waiting an hour or more for an answer, but I am not OK with having to be on hold for that entire time.  And I’m definitely not OK with renting a separate box per device simply to get access.</p>
<p>This process has turned a fairly complacent Time Warner customer into one that is actively seeking alternatives.  So I am beginning my research: starting with looking for alternatives to cable TV.  What I want is a single plan that allows me to watch whatever I want wherever I want.  I am OK with upgrading my devices as long as we are talking about a purchase not a lease.</p>
<p>Any pointers people might leave in comments would be appreciated.</p></div></summary>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns='http://www.w3.org/2000/svg' width="108" height="93" viewBox="0 0 108 93">
  <path d='M17,27c-3,3-5,6-10,11c-2,1-3,1-5,0c-4-4-2-7,8-17c11-11,24-19,36-20c13-2,30,1,43,11c7,6,15,14,19,21c-4,7-9,13-14,17c-5,5-11,8-16,10c-13,4-28,3-36-10c-2-4-2-8,0-12c2-5,8-9,13-9c4,0,9,2,11,7c1,2,1,6-1,8c-1,1-6,2-7-2c0-2-0-4-2-4c-4,0-7,3-6,8c1,3,4,6,11,7c3,0,7-1,11-6c3-4,3-11,0-15c-4-7-10-10-18-10c-9,0-17,5-21,14c-3,7-5,17,0,28c4,8,11,13,17,16c5,3,16,4,17,8c0,3-2,5-4,5c-17-3-31-11-37-25c-7-13-6-30,2-41c5-7,13-12,20-13c19-5,38,9,35,28c-1,3-2,6-4,8c0,1,0,1-1,1l2-1c7-4,13-10,17-17c-10-18-32-27-49-24c-14,2-23,10-31,18' fill='#0056a2'></path>
</svg>
<p>It started with two notifications we received via postal mail.  First Time Warner was going to start charging us rent for an outdated cable modem.  Second they were going to drop a number of cable channels, but if I acted now, I could request a digital adapter which would allow me to watch these channels on exactly one TV.</p>
<p>So I did some research and purchased a DOCSIS 3.0 compatible modem that can do IP V6, figuring that would future proof me for a while, and connected it up.  I actually managed to get an IP address assigned, but everything I tried after that was redirected to a site saying that I needed to be “provisioned” and to call a number.  Upon calling that number, I got connected with a person whose sole purpose seemed to be to upsell me to a higher plan.  After I politely but firmly refused, I was transferred and placed on hold for about 30 minutes.  The woman that tried to help me get connected couldn’t get it to work so she transferred me to level 3.  Another 5 minutes later, a gentleman picked up and also had trouble.  It took him about 30 minutes to get it to work — apparently they didn’t give him instructions on how to deal with DOCSIS 3.0 modems despite my picking one of the options on the list they provided to me.  But he was pleasant and apologetic throughout, and eventually did manage to get it working.</p>
<p>The next day I drove 15 minutes to stand in a 20 minute line to do what amounted to a 60 second transaction: here’s a box, here’s a receipt.  Thank you and goodbye.</p>
<p>As to the dropped channels... I dutifully filled out an online form requesting a digital adapter, and got first a confirmation and subsequently a notification that the order was “complete”... where the latter merely indicated that something would be shipping in 3-5 business days, giving me a confirmation number.  That was 18 November.</p>
<p>The box never showed up.</p>
<p>Yesterday, the channels went dark, and I went online.  After using Chrome to override my User Agent so that I could make use of their chat system, I waited over 20 minutes for a representative.  After checking, he said that there was nothing he could do for me, and gave me a number I could call.  I called that number and was told that the wait time would be more than 30 minutes.  As the chat window was still open, I asked if there was anything else I could do.  He said call back late in the evening when the wait times would be less.  I was not happy and closed the chat window.  I was then presented with a survey, in which I responded that the person was not able to solve my problem and that I was not happy.</p>
<p>I <a href="https://twitter.com/samruby">tweeted to TWCableHelp</a> and got <strike>no response</strike> a DM five hours later asking me for my phone number.  Before I went to bed, I sent an email.  When I woke up I got a response indicating that the email had been forwarded to “our regional contacts”, who would be contacting me.  They have not.</p>
<p>I called again, and was told that there would be a 20 to 25 minute wait time.  It was closer to 30.  I was told that another digital adapter had been placed on order.  I asked for a confirmation number, and was told that she didn’t have one.  I asked for an email, and she said that one would be sent within 48 hours.  I was given a case number.  And that was all she could do for me.</p>
<p>At this point, I have nobody I can contact, no tracking number, and no confidence that this time will turn out any different.  And a number of black channels.</p>
<p>This process has turned a fairly complacent Time Warner customer into one that is actively seeking alternatives.  In looking around, I see plenty of promo offers of more service than I have (basic cable and basic internet) for considerably less than I am currently paying.  I am OK with waiting an hour or more for an answer, but I am not OK with having to be on hold for that entire time.  And I’m definitely not OK with renting a separate box per device simply to get access.</p>
<p>So I am beginning my research: starting with looking for alternatives to cable TV.  What I want is a single plan that allows me to watch whatever I want wherever I want.  I am OK with upgrading my devices as long as we are talking about a purchase not a lease.</p>
<p>Any pointers people might leave in comments would be appreciated.</p></div></content>
    <updated>2012-12-05T08:54:58-08:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3303</id>
    <link href="/blog/2012/11/09/In-defence-of-Polyglot"/>
    <link rel="replies" href="3303.atom" thr:count="21" thr:updated="2012-12-10T20:19:45-08:00"/>
    <title>In defence of Polyglot</title>
    <summary type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><p>I see that <a href="http://hsivonen.iki.fi/author/">Henri Sivonen</a> is once again <a href="https://twitter.com/hsivonen/status/266535784050458624">being snarky</a> without <a href="https://twitter.com/hsivonen/status/266565956585795585">backing his position</a>.  I’ll state my position, namely that something like the <a href="http://dev.w3.org/html5/html-xhtml-author-guide/html-xhtml-authoring-guide.html">polyglot specification</a> needs to exist, and why I believe that to be the case.</p>
<p>It makes sense for authors who may produce a handful of pages to be processed by an uncountable number of imperfect tools to agree on restrictions that may go well behond the <a href="http://lists.w3.org/Archives/Public/public-html/2012Nov/0006.html">minimal logical consequences from normative text elsewhere</a> if those restrictions increase the odds of the document produced being correctly processed.</p>
<p>Such restrictions are not a bad thing.  In fact, such restrictions are very much a good thing.</p></div></summary>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns='http://www.w3.org/2000/svg' width="86" height="116" viewBox="0 0 86 116">
  <path d='M70,70c0,20-15,37-34,37c-18,0-33-17-32-37c0-21,14-54,33-55c18,0,34,34,33,55' fill='#0C0'></path>
  <path d='M27,48a1,2,170,1,1-12,0a1,2,170,1,1,12,0M30,48a1,2,10,1,1,12,1a1,2,10,1,1-12-1M46,66l-5,4c-2,2-5,3-9,4c-4,1-8,1-12,0h-1c0,2,1,3,2,5c-1,0,4,5,7,5c4,0,6,0,10-1c2,0,5,1,7-1c1-1,1-8,1-10v-6' fill='#fff' stroke="#0A0"></path>
  <path d='M30,25l13,4l-1,3l-12-5zM24,25l-12,4l2,3l11-5zM26,52a2,3,170,1,1-7,0a2,3,170,1,1,7,0M37,52a2,3,10,1,1-7,0a2,3,10,1,1,7,0'></path>
  <path d='M34,48a1,1,0,1,1-1,0M23,48a1,1,0,1,1-1,0' fill='#999'></path>
  <path stroke='#000' d='M31,20c-1,0-2-2-3-3c-1-1,2-3,3-3c3-6-2-9-7-6' fill='none'></path>
</svg>
<p>I see that <a href="http://hsivonen.iki.fi/author/">Henri Sivonen</a> is once again <a href="https://twitter.com/hsivonen/status/266535784050458624">being snarky</a> without <a href="https://twitter.com/hsivonen/status/266565956585795585">backing his position</a>.  I’ll state my position, namely that something like the <a href="http://dev.w3.org/html5/html-xhtml-author-guide/html-xhtml-authoring-guide.html">polyglot specification</a> needs to exist, and why I believe that to be the case.</p>
<p>The short version is that I have developed a <a href="https://github.com/rubys/wunderbar">library</a> that I believe to be polyglot compatible, and by that I mean that if there are differences between what this library does and what polyglot specifies that one or both should be corrected to bring them into compliance.</p>
<p>I didn’t write this library simply because I am loonie, but very much to solve a real problem.</p>
<p>The problem is that HTML source files <a href="http://svn.whatwg.org/webapps/complete.html">exist</a> that contain artifacts like consecutive &lt;td&gt; elements; people process such documents using tools such as <a href="http://anolis.gsnedders.com/">anolis</a>; and such libraries often depend on — for good reasons — libraries such as <a href="http://www.xmlsoft.org/">libxml2</a> which do an imperfect job of parsing HTML correctly.  The output produced by such tools when combined with such libraries are incorrect.</p>
<p>Note that I stop well short of recommending that others serve their content as <a href="http://www.w3.org/TR/xhtml-media-types/">application/xhtml+xml</a>.  Or that tools should <a href="http://docs.activestate.com/activepython/3.1/diveintopython3/html/xml.html#xml-custom-parser">halt and catch fire</a> if they are presented with incorrect input.  In fact, I would even be willing to say that in general people <a href="http://www.ietf.org/rfc/rfc2119.txt">SHOULD NOT</a> do either of these things.</p>
<p>Now that I have provided instance proofs of the problem and the solution, I’ll proceed with the longer answer.  I will start by noting that <a href="http://en.wikipedia.org/wiki/Robustness_principle">Postel’s law</a> has two halves, and while the HTML WG has focused heavily on the second half of that law, the story should not stop there.</p>
<p>To get HTML right involves a number of details that people often get wrong.  Details such as encoding and escaping.  Details that have consequences such as <a href="http://en.wikipedia.org/wiki/Cross-site_scripting">XSS vulnerabilities</a> when the scenario involves integrating content from untrusted sources.  Scenarios which include comments on blogs or feed aggregators.  Scenarios that lead people to write sanitizers and employ the use of imperfect HTML parsers.</p>
<p>It is well and good that Henri maintains — on a best effort basis only — a <a href="http://about.validator.nu/htmlparser/">superior parser</a> for exactly one programming language.  <a href="https://twitter.com/hsivonen/status/263696331141431296">Advertising</a> this library more won’t solve the problem for people who code in languages such as C#, Perl, PHP, Python, or Ruby.  Fundamentally, a <a href="http://www.xml.com/pub/a/2004/07/21/dive.html">tools will save us</a> response is not an adequate response when the problem is imperfect tools.</p>
<p>This problem that needs to be addressed is very much the flip side, and complement to, the parsing problem that HTML5 has competently solved.  Given a handful of browser vendors and an uncountable number of imperfect documents, it very much make sense for the browser vendors to get together and agree on how to handle error recovery.  By the very same token, it makes sense for authors who may produce a handful of pages to be processed by an uncountable number of imperfect tools to agree on restrictions that may go well beyond the <a href="http://lists.w3.org/Archives/Public/public-html/2012Nov/0006.html">minimal logical consequences from normative text elsewhere</a> if those restrictions increase the odds of the document produced being correctly processed.</p>
<p>Yes, it would be great if this weren’t necessary and all tools were perfect.  Similarly, it would be great if browser vendors didn’t have to agree on error recovery as this makes the creation of streaming parsers more difficult.  The point is that while both would be great, neither will happen, at least not any time soon.</p>
<p>These restrictions may indeed go beyond “always explicitly close all elements” and “always quote all attribute values”.  It may include such statements as “always use UTF-8”.</p>
<p>Such restrictions are not a bad thing.  In fact, such restrictions are very much a good thing.</p></div></content>
    <updated>2012-11-09T03:58:21-08:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3302</id>
    <link href="/blog/2012/10/09/Web-Platform-Docs"/>
    <link rel="replies" href="3302.atom" thr:count="0"/>
    <title>Web Platform Docs</title>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns='http://www.w3.org/2000/svg' width="100" height="100" viewBox="0 0 100 100">
  <path d='M73,55v-40c0-8,4-13,12-13c7,0,13,4,13,12v68c-7-10-25-27-25-27M85,10c-3,0-5,2-5,5c0,3,2,5,5,5c3,0,5-2,5-6c0-2-2-4-5-4' fill='#31B0BC'></path>
  <path d='M2,77v-61c0-9,6-14,14-14c7,0,12,5,11,14v40l-25,24M15,9c-3,0-5,2-5,5c0,3,2,5,5,5c3,0,5-2,5-6c0-2-2-4-5-4' fill='#F19620'></path>
  <path d='M4,77l23-21v35c-4,6-10,10-17,7c-8-3-11-16-6-21M15,91c3,0,5-2,5-5c0-3-2-5-5-5c-4,0-6,2-6,5c0,3,3,5,6,5' fill='#CC2D28'></path>
  <path d='M73,55c0,0,23,22,25,27c1,7-1,13-8,16c-7,3-13,0-17-6v-37M90,86c0-3-2-5-5-5c-3,0-5,2-5,5c0,3,2,5,5,5c3,0,5-2,5-5' fill='#273C7D'></path>
  <path d='M73,92l-24-22v-2l14-22l10,9l0,37' fill='#654D97'></path>
  <path d='M50,67l-12-22l-11,11v1v34l22-21' fill='#D24839'></path>
  <path d='M49,70c-7-8-14-14-12-24c9-12,17-11,26,0c1,11-7,17-14,24M50,55c3,0,5-2,5-5c0-3-2-5-5-5c-4,0-6,2-6,5c0,3,3,5,6,5' fill='#59152B'></path>
</svg>
<p><a href="http://blog.webplatform.org/2012/10/one-small-step/"><cite>Doug Sheppers</cite></a>: <em><a href="http://docs.webplatform.org/">WebPlatform.org</a> will have accurate, up-to-date, comprehensive references and tutorials for every part of client-side development and design, with quirks and bugs revealed and explained. It will have in-depth indicators of browser support and interoperability, with links to tests for specific features. It will feature discussions and script libraries for cutting-edge features at various states of implementation or standardization, with the opportunity to give feedback into the process before the features are locked down. It will have features to let you experiment with and share code snippets, examples, and solutions. It will have an API to access the structured information for easy reuse. It will have resources for teachers to help them train their students with critical skills. It will have information you just can’t get anywhere else, and it will have it all in one place.</em></p>
<p><em>But it doesn’t. Not yet.</em></p></div></content>
    <updated>2012-10-09T11:35:17-07:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3301</id>
    <link href="/blog/2012/09/04/The-Flowing-Standard"/>
    <link rel="replies" href="3301.atom" thr:count="1" thr:updated="2013-01-03T17:32:29-08:00"/>
    <title>The Flowing Standard</title>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns='http://www.w3.org/2000/svg' width="131" height="76" viewBox="0 0 131 76">
  <path d="M36,5l12,41l12-41h33v4l-13,21c30,10,2,69-21,28l7-2c15,27,33,-22,3,-19v-4l12-20h-15l-17,59h-1l-13-42l-12,42h-1l-20-67h9l12,41l8-28l-4-13h9" fill='#005A9C'></path>
  <path d="M94,53c15,32,30,14,35,7l-1-7c-16,26-32,3-34,0M122,16c-10-21-34,0-21,30c-5-30 16,-38 23,-21l5-10l-2-9"></path>
</svg>
<a href="http://www.w3.org/QA/2012/09/the_flowing_standard.html"><cite>Robin Berjon</cite></a>: <em>Looking at it in terms of rebounds, plot twists, nurtured healing and abandonment, love and betrayal, strife, toil, stunning victories, dispersions and last minute rallies the only thing that distinguishes HTML’s history from a charts-topping teenage fantasy saga seems to be the lack of vampires. And even then, were vampires around I’m not sure we’d notice them for all the action.</em></div></content>
    <updated>2012-09-04T16:10:12-07:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3300</id>
    <link href="/blog/2012/08/25/Taming-the-wild-wild-web"/>
    <link rel="replies" href="3300.atom" thr:count="3" thr:updated="2012-10-18T03:54:07-07:00"/>
    <title>Taming the wild, wild web</title>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns='http://www.w3.org/2000/svg' width="100" height="100" viewBox="0 0 100 100">
  <path fill='#85B916' d='M50,82l-31-31l31-31l10,10l-20,21l10,10l31-31l-27-27c-2-2-6-2-8,0l-43,44c-2,2-2,6,0,8l43,43c2,2,6,2,8,0l43-43c2-2,2-6,0-8l-6-7z'></path>
</svg>
<a href="http://toc.oreilly.com/2012/08/portable-documents-for-the-open-web-part-3.html"><cite>Bill McCoy</cite></a>: <em>EPUB in effect takes the Wild, Wild Web and tames it. EPUB for example requires use of the XML serialization of HTML5 (XHTML5), rather than “Tag Soup” aka “Street” HTML. This means that EPUB content, unlike arbitrary web pages, can be reliably created and manipulated with XML tool chains. EPUB defined Reading System conformance more tightly than HTML5 defines for browser User Agents, pinning down things that are under-specified in the union of W3C standards.</em> [via <a href="https://twitter.com/pmuellr/status/238664881308565504"><cite>Patrick Mueller</cite></a>]</div></content>
    <updated>2012-08-25T12:32:40-07:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3299</id>
    <link href="/blog/2012/07/16/Inhibiting-Suspend"/>
    <link rel="replies" href="3299.atom" thr:count="1" thr:updated="2012-07-17T08:34:14-07:00"/>
    <title>Inhibiting Suspend</title>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns='http://www.w3.org/2000/svg' width="109" height="92" viewBox="0 0 109 92">
  <g style='fill:#FFFFFF;stroke:#3B80AE;stroke-width:3'>
    <path d='M107,51c3,10-3,20-13,23l-60,15c-10,3-20-3-23-13l-9-36c-2-10,3-20,13-22l60-16c10-2,20,3,23,13z' style='stroke:#BABABA'></path>
    <path d='M101,50c2,10-2,17-12,19l-53,14c-9,3-18-1-20-11l-8-30c-2-11,1-17,12-20l53-14c10-2,18,2,20,11z' style='fill:#3B80AE;stroke:none'></path>
    <path d='M57,65l-27-26l48-5z' style='opacity:0.5;fill:none;stroke:#FFFFFF'></path>
    <path d='M91,36c0,2-1,4-3,5l-15,4c-2,0-4-1-5-3l-3-11c0-2,1-4,3-5l15-4c2,0,4,1,5,3z'></path>
    <path d='M46,42c0,3-1,5-3,6l-19,5c-3,0-5-1-6-4l-3-13c-1-3,0-5,3-6l19-5c2,0,5,1,5,4z'></path>
    <path d='M66,67c0,1-1,3-2,3l-11,3c-1,0-2-1-3-2l-2-8c0-1,1-2,2-3l11-3c1,0,3,1,3,2z'></path>
  </g>
</svg>
<p>The <a href="http://people.gnome.org/~mccann/gnome-session/docs/gnome-session.html#org.gnome.SessionManager.Inhibit">interface</a> is a bit low level, but workable:</p>
<pre class="code">require 'dbus' # gem install ruby-dbus
bus = DBus::SessionBus.instance
sm = bus.service('org.gnome.SessionManager').object('/org/gnome/SessionManager')
sm.introspect
sm.default_iface = 'org.gnome.SessionManager'
cookie = sm.Inhibit($0, 0, 'inhibiting', 4).first
at_exit { cookie = sm.Uninhibit(cookie) if sm.IsInhibited(4).first }</pre>
<p>Note: the call to <code>Uninhibit</code> is optional — it will occur on process exit anyway.</p>
<p>Hat tip to <a href="http://www.lucidelectricdreams.com/2011/06/disabling-screensaverlock-screen-on.html">JanuZ</a>.</p></div></content>
    <updated>2012-07-16T08:48:01-07:00</updated>
  </entry>

  <entry>
    <id>tag:intertwingly.net,2004:3298</id>
    <link href="/blog/2012/07/10/utf8mb4"/>
    <link rel="replies" href="3298.atom" thr:count="7" thr:updated="2012-10-15T14:45:05-07:00"/>
    <title>utf8mb4</title>
    <content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><svg style="float:right" xmlns="http://www.w3.org/2000/svg" width="115" height="87" viewBox="0 0 115 87">
  <path d="M0,1v83h26c-10,0-22-11-22-21v-62zM22,1v53c0,16,22,16,22,0v-53zM41,84c10,0,22-11,22-21v-22l27,43zM60,1h30v20h19v-20h5v84h-5v-56h-19v18z" fill="#C60025"></path>
</svg>
<p><a href="http://golem.ph.utexas.edu/~distler/blog/archives/002539.html"><cite>Jacques Distler</cite></a>: <em>Remarkably, even after a decade of such pain, Unicode is, in 2012, still “cutting edge.”</em></p>
<p>Ouch.</p></div></content>
    <updated>2012-07-10T10:55:32-07:00</updated>
  </entry>

</feed>

